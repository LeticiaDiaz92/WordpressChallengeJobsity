!function(e){"use strict";e(document).ready((function(){e(".menu-toggle").on("click",(function(){e(".nav-menu").toggleClass("toggled"),e(this).attr("aria-expanded",(function(e,t){return"true"===t?"false":"true"}))})),e(document).on("click",(function(t){e(t.target).closest(".main-navigation").length||(e(".nav-menu").removeClass("toggled"),e(".menu-toggle").attr("aria-expanded","false"))})),e('a[href^="#"]').on("click",(function(t){var s=e(this.getAttribute("href"));s.length&&(t.preventDefault(),e("html, body").animate({scrollTop:s.offset().top-100},800))})),function(){if("IntersectionObserver"in window){const e=new IntersectionObserver(((t,s)=>{t.forEach((t=>{if(t.isIntersecting){const s=t.target;s.src=s.dataset.src,s.classList.remove("lazy"),e.unobserve(s)}}))}));document.querySelectorAll("img[data-src]").forEach((t=>{e.observe(t)}))}}(),e("[data-tooltip]").hover((function(){var t=e('<div class="tooltip"></div>').text(e(this).data("tooltip"));e("body").append(t);var s=e(this).offset();t.css({top:s.top-t.outerHeight()-10,left:s.left+e(this).outerWidth()/2-t.outerWidth()/2}).fadeIn()}),(function(){e(".tooltip").remove()}))})),window.MoviesTheme={debounce:function(e,t,s){var i;return function(){var a=this,o=arguments,n=s&&!i;clearTimeout(i),i=setTimeout((function(){i=null,s||e.apply(a,o)}),t),n&&e.apply(a,o)}}}}(jQuery),function(e){"use strict";e(document).ready((function(){e(".filters-form").on("submit",(function(t){t.preventDefault();var s=e(this),i=e(".movies-grid, .actors-grid"),a=s.serialize();i.addClass("loading"),e.ajax({url:movies_ajax.ajax_url,type:"POST",data:{action:"filter_movies",nonce:movies_ajax.nonce,filters:a},success:function(t){t.success&&(i.html(t.data.html),function(t){var s=e(".active-filters");s.empty();var i=new URLSearchParams(t);i.forEach((function(t,i){if(t&&""!==t){var a=e('<span class="filter-tag">'+i+": "+t+'<button class="remove-filter" data-filter="'+i+'">Ã—</button></span>');s.append(a)}}))}(a))},error:function(){console.error("Filter request failed")},complete:function(){i.removeClass("loading")}})})),e(document).on("click",".remove-filter",(function(t){t.preventDefault();var s=e(this).data("filter");e('input[name="'+s+'"], select[name="'+s+'"]').val(""),e(".filters-form").trigger("submit")}))}))}(jQuery),function(e){"use strict";function t(t,s){var i=e('<div class="notification notification-'+s+'">'+t+"</div>");e("body").append(i),setTimeout((function(){i.addClass("show")}),100),setTimeout((function(){i.removeClass("show"),setTimeout((function(){i.remove()}),300)}),3e3)}e(document).ready((function(){e(document).on("click",".wishlist-btn",(function(s){s.preventDefault();var i=e(this),a=i.data("movie-id"),o=i.hasClass("in-wishlist");i.hasClass("loading")||(i.addClass("loading"),e.ajax({url:movies_ajax.ajax_url,type:"POST",data:{action:o?"remove_from_wishlist":"add_to_wishlist",nonce:movies_ajax.nonce,movie_id:a},success:function(s){s.success?(i.toggleClass("in-wishlist"),i.text(o?"Add to Wishlist":"Remove from Wishlist"),void 0!==s.data.count&&e(".wishlist-count").text(s.data.count),t(s.data.message,"success")):t(s.data.message||"An error occurred","error")},error:function(){t("Network error occurred","error")},complete:function(){i.removeClass("loading")}}))}))}))}(jQuery),function(e){"use strict";e(document).ready((function(){var t,s,i;s=e(".search-field"),i=e(".search-results"),s.on("input",(function(){var s=e(this).val().trim();clearTimeout(t),s.length<3?i.hide():t=setTimeout((function(){!function(t){var s=e(".search-results");e.ajax({url:movies_ajax.ajax_url,type:"POST",data:{action:"live_search",nonce:movies_ajax.nonce,query:t},beforeSend:function(){s.html('<div class="search-loading">Searching...</div>').show()},success:function(e){if(e.success)if(e.data.results.length>0){var t='<div class="search-results-list">';e.data.results.forEach((function(e){t+='<div class="search-result-item">',t+='<a href="'+e.url+'">',e.thumbnail&&(t+='<img src="'+e.thumbnail+'" alt="'+e.title+'">'),t+='<div class="search-result-content">',t+="<h4>"+e.title+"</h4>",t+="<p>"+e.excerpt+"</p>",t+='<span class="search-result-type">'+e.type+"</span>",t+="</div>",t+="</a>",t+="</div>"})),t+="</div>",s.html(t)}else s.html('<div class="search-no-results">No results found</div>');else s.html('<div class="search-error">Search error occurred</div>')},error:function(){s.html('<div class="search-error">Network error occurred</div>')}})}(s)}),300)})),e(document).on("click",(function(t){e(t.target).closest(".search-form").length||i.hide()}))}))}(jQuery);